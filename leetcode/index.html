<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>leetcode guide</title>
	<link rel="stylesheet" href="../css/bootstrap.min.css" type="text/css" media="all">
	<link rel="stylesheet" href="../css/simple-line-icons.css" type="text/css" media="all">
	<link rel="stylesheet" href="../css/slick.css" type="text/css" media="all">
	<link rel="stylesheet" href="../css/animate.css" type="text/css" media="all">
	<link rel="stylesheet" href="../css/magnific-popup.css" type="text/css" media="all">
	<link rel="stylesheet" href="../css/style.css" type="text/css" media="all">
</head>

<body>




<!-- main layout -->
<div class="content-3">
	<!-- section home -->
		<div class="container" id="parent">
			<h1>Leetcode Patterns</h1>
		</div>
</div>

<!-- SCRIPTS -->
<script src="../js/jquery-1.12.3.min.js"></script>
<script src="../js/jquery.easing.min.js"></script>
<script src="../js/jquery.waypoints.min.js"></script>
<script src="../js/jquery.counterup.min.js"></script>
<script src="../js/popper.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/isotope.pkgd.min.js"></script>
<script src="../js/infinite-scroll.min.js"></script>
<script src="../js/imagesloaded.pkgd.min.js"></script>
<script src="../js/slick.min.js"></script>
<script src="../js/contact.js"></script>
<script src="../js/validator.js"></script>
<script src="../js/wow.min.js"></script>
<script src="../js/morphext.min.js"></script>
<script src="../js/parallax.min.js"></script>
<script src="../js/jquery.magnific-popup.min.js"></script>
<script src="../js/custom.js"></script>
<script src="../https://kit.fontawesome.com/17b75eb489.js" crossorigin="anonymous"></script>
<script>
	var data;


	const createSection = (topics) => {
		var section = $('<div/>',{
							'class': 'list-group',
						});

		topics.subtopics.forEach(function(subtopic) {
			var subsection = $('<div/>',{
								'class': 'list-group-item  flex-column align-items-start subsection',
							});

			subsection.append(`<div><h6 class="mb-2 mt-1 subtopic-title">${subtopic.title}</h6></div>`);
			
			var problems = $('<div/>');
			var list = $('<ul/>',{
								'class': 'list-group list-group-flush',
							});
			
			subtopic.problems.forEach(function(problem) {
				color = "#B2DFDB";
				if (problem.difficulty == "Medium") {
					color = "#FFE0B2";
				} else if (problem.difficulty == "Hard") {
					color = "#FFCDD2";
				}
				
				var wrapper = $('<a/>', {
					css: {
						'height': '100%',
						'width': '100%'
					},
					'class': 'd-flex justify-content-between align-items-center wrapper'
				});
				wrapper.attr("href", problem.url);
				wrapper.attr("target", "_blank");

				var item = $('<li/>',{
								'class': 'list-group-item',
								css: {
									'background-color': color
								}
							});
				
				item.append(wrapper);
				wrapper.append(`<div style="color: #454360" class="problem-name">${problem.title}</div>`);
				
				if (problem.difficulty == "Easy") {
					wrapper.append(`<span class="badge badge-success badge-pill">Easy</span>`);
				} else if (problem.difficulty == "Medium") {
					wrapper.append(`<span class="badge badge-warning badge-pill">Medium</span>`);
				} else {
					wrapper.append(`<span class="badge badge-danger badge-pill">Hard</span>`);
				}
				
				list.append(item);
			});
			problems.append(list);
			subsection.append(problems);
			section.append(subsection);
		});
		console.log(section);
		return section;
	}

	$.getJSON('problems.json', function(data) {
		console.log(data);
		// loop through all books
		data.forEach(function(topic) {
			// now you can put every book in your <div>
			//$("#test").append(`<div><h2>${topic.topic}</h2></div>`);
			$("#parent").append(`<h3>${topic.topic}</h3>`)
			$("#parent").append(createSection(topic));
			console.log('added');
		});
	});
</script>

</body>
</html>